@model UTP.PortalEmpleabilidad.Modelo.Alumno
@{
    Layout = "~/Views/Alumno/_LayoutAlumno.cshtml";
    ViewBag.Title = "Datos Alumno";
}

<link href="~/Content/font-awesome.css" rel="stylesheet" />
@using (Html.BeginForm("DatosAlumno", "Alumno", FormMethod.Post, new { role = "form" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(x => x.IdAlumno)
    <div class="container" style="margin-top:2px;">
        <h5>Datos Personales</h5>
        <hr />

        <div class="row">
            <div class="col-sm-6">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="input-group">
                            <span class="input-group-addon">Usuario</span>
                            @*<input type="text" class="form-control" value="0971827" disabled>*@
                            @Html.TextBoxFor(x => x.Usuario, htmlAttributes: new { @class = "form-control", @disabled = "disabled" })
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="input-group">
                            <span class="input-group-addon">Nombres</span>
                            @*<input type="text" class="form-control" value="Victor Hugo" disabled>*@
                            @Html.TextBoxFor(x => x.Nombres, htmlAttributes: new { @class = "form-control", @disabled = "disabled" })
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="input-group">
                            <span class="input-group-addon">Apellidos</span>
                            @Html.TextBoxFor(x => x.Apellidos, htmlAttributes: new { @class = "form-control", @disabled = "disabled" })
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="input-group">
                            <span class="input-group-addon">Tipo<br />Documento</span>
                            @Html.DropDownListFor(m => m.TipoDocumentoIdListaValor, null, "- Seleccionar -", htmlAttributes: new { @class = "form-control", @disabled = "disabled" })
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <span class="input-group-addon">Número<br />Documento</span>
                            @Html.TextBoxFor(x => x.NumeroDocumento, htmlAttributes: new { @class = "form-control", @disabled = "disabled" })
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="input-group">
                            <span class="input-group-addon">Fecha de<br />Nacimiento</span>
                            @Html.TextBoxFor(x => x.FechaNacimiento, "{0:dd/MM/yyyy}", htmlAttributes: new { @class = "form-control", @disabled = "disabled" })
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="input-group">
                            <span class="input-group-addon">Sexo</span>
                            @Html.DropDownListFor(m => m.SexoIdListaValor, null, "- Seleccionar -", htmlAttributes: new { @class = "form-control", @disabled = "disabled" })
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="row">
                    <div class="col-sm-4">
                        <img src="~/img/Alumna.png" style="height:180px;border-radius:5px 5px 5px 5px;" />
                    </div>
                    <div class="col-sm-8" style="text-align:left;">
                        <button class="btn btn-default color-paleta1">Cambiar Imagen</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-12">
                <div class="input-group">
                    <span class="input-group-addon">Dirección</span>
                    @Html.TextBoxFor(x => x.Direccion, htmlAttributes: new { @class = "form-control", })
                </div>
                @Html.ValidationMessageFor(m => m.Direccion, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4">
                <div class="input-group">
                    <span class="input-group-addon">Departa-<br />mento</span>
                    @Html.DropDownListFor(m => m.DireccionRegion, null, "- Seleccionar -", htmlAttributes: new { @class = "form-control" })
                </div>
                @Html.ValidationMessageFor(m => m.DireccionRegion, "", new { @class = "text-danger" })
            </div>
            <div class="col-sm-4">
                <div class="input-group">
                    <span class="input-group-addon">Provincia</span>
                    <select class="form-control" id="DireccionCiudad" name="DireccionCiudad" data-val="true" data-val_required="Falta la provincia"></select>
                </div>
                @Html.ValidationMessageFor(m => m.DireccionCiudad, "", new { @class = "text-danger" })
            </div>
            <div class="col-sm-4">
                <div class="input-group">
                    <span class="input-group-addon">Distrito</span>
                    <select class="form-control" id="DireccionDistrito" name="DireccionDistrito" data-val="true" data-val_required="Falta el distrito">

                    </select>
                </div>
                @Html.ValidationMessageFor(m => m.DireccionDistrito, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="input-group">
                    <span class="input-group-addon">e-Mail</span>
                    @Html.TextBoxFor(x => x.CorreoElectronico1, htmlAttributes: new { @class = "form-control", @disabled = "disabled" })
                </div>

            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="input-group">
                    <span class="input-group-addon">e-Mail<br />2</span>
                    @Html.TextBoxFor(x => x.CorreoElectronico2, htmlAttributes: new { @class = "form-control", })
                </div>
                @Html.ValidationMessageFor(m => m.CorreoElectronico2, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3">
                <div class="input-group">
                    <span class="input-group-addon">(*) Tel.<br />Celular</span>
                    @Html.TextBoxFor(x => x.TelefonoCelular, htmlAttributes: new { @class = "form-control", })
                </div>
                @Html.ValidationMessageFor(m => m.TelefonoCelular, "", new { @class = "text-danger" })
            </div>
            <div class="col-sm-3">
                <div class="input-group">
                    <span class="input-group-addon">Teléfono<br />fijo</span>
                    @Html.TextBoxFor(x => x.TelefonoFijoCasa, htmlAttributes: new { @class = "form-control", })
                </div>
                @Html.ValidationMessageFor(m => m.TelefonoFijoCasa, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12" style="text-align:right;">
                <button type="submit" class="btn btn-default color-paleta1" disabled id="IdRegistarDatosPersonales">Guardar Cambios</button>
            </div>
        </div>
        <hr />
    </div>

}
<script>
    $(document).ready(function () {
        $("#divFinalCabecera").removeClass("color-paleta2 color-paleta3 color-paleta4 color-paleta5 color-paleta6 color-paleta7 color-paleta8").addClass("color-paleta1");
        $("#DireccionCiudad").attr('disabled', true);
        $("#DireccionDistrito").attr('disabled', true);

    });
    $(":enabled").focus(function () {
        $("#IdRegistarDatosPersonales").attr('disabled', false);
    });
    $("#DireccionRegion").change(function () {

        fillCombo("DireccionCiudad", $("#DireccionRegion").val());
    });
    $("#DireccionCiudad").change(function () {
        fillCombo("DireccionDistrito", $("#DireccionCiudad").val());
    });
    @*$("#IdRegistarDatosPersonales").click(function () {
        var alumno = {
            IdAlumno: $("#IdAlumno").val(),
            Direccion: $("#Direccion").val(),
            DireccionDistrito: $("#DireccionDistrito").val(),
            DireccionCiudad: $("#DireccionCiudad").val(),
            DireccionRegion: $("#DireccionRegion").val(),
            CorreoElectronico2: $("#CorreoElectronico2").val(),
            TelefonoFijoCasa: $("#TelefonoFijoCasa").val(),
            TelefonoCelular: $("#TelefonoCelular").val()
        }
        CargarPOST("myModal", '@Url.Action("DatosAlumno", "Alumno")', alumno);
        return false;
    })*@
    function fillCombo(updateId, value) {
        $.getJSON('@Url.Action("ListarListaValor", "Alumno")'
            + '/' + value,
            function (data) {
                $("#" + updateId).empty();
                $("#" + updateId).append("<option value selected='true'>--Seleccionar--</option>");
                $.each(data, function (i, item) {
                    $("#" + updateId).append("<option value='"
                       + item.IdListaValor + "'>" + item.Valor
                       + "</option>");
                    $("#" + updateId).attr('disabled', false);
                });
            });
    }
</script>

